/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
    type Address,
    type ClientWithRpc,
    type ClientWithTransactionPlanning,
    type ClientWithTransactionSending,
    type GetAccountInfoApi,
    type GetMultipleAccountsApi,
} from '@solana/kit';
import {
    addSelfFetchFunctions,
    addSelfPlanAndSendFunctions,
    type SelfFetchFunctions,
    type SelfPlanAndSendFunctions,
} from '@solana/kit/program-client-core';
import { getCounterCodec, type Counter, type CounterArgs } from '../accounts';
import { getIncrementInstruction, type IncrementInput, type ParsedIncrementInstruction } from '../instructions';

export const COUNTER_PROGRAM_ADDRESS =
    'Ctr1111111111111111111111111111111111111111' as Address<'Ctr1111111111111111111111111111111111111111'>;

export enum CounterAccount {
    Counter,
}

export enum CounterInstruction {
    Increment,
}

export type ParsedCounterInstruction<TProgram extends string = 'Ctr1111111111111111111111111111111111111111'> = {
    instructionType: CounterInstruction.Increment;
} & ParsedIncrementInstruction<TProgram>;

export type CounterPlugin = { accounts: CounterPluginAccounts; instructions: CounterPluginInstructions };

export type CounterPluginAccounts = {
    counter: ReturnType<typeof getCounterCodec> & SelfFetchFunctions<CounterArgs, Counter>;
};

export type CounterPluginInstructions = {
    increment: (input: IncrementInput) => ReturnType<typeof getIncrementInstruction> & SelfPlanAndSendFunctions;
};

export type CounterPluginRequirements = ClientWithRpc<GetAccountInfoApi & GetMultipleAccountsApi> &
    ClientWithTransactionPlanning &
    ClientWithTransactionSending;

export function counterProgram() {
    return <T extends CounterPluginRequirements>(client: T) => {
        return {
            ...client,
            counter: <CounterPlugin>{
                accounts: { counter: addSelfFetchFunctions(client, getCounterCodec()) },
                instructions: {
                    increment: input => addSelfPlanAndSendFunctions(client, getIncrementInstruction(input)),
                },
            },
        };
    };
}
